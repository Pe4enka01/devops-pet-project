# How often Prometheus collects metrics from all targets
global:
  scrape_interval: 15s       # Pull metrics every 15 seconds
  evaluation_interval: 15s   # Evaluate alerting rules every 15 seconds

# List of "jobs" = things to monitor
scrape_configs:

  # Job name appears as a label on all metrics from this target
  - job_name: 'fastapi'

    # The path where our FastAPI app exposes metrics
    # (prometheus_fastapi_instrumentator registers this automatically)
    metrics_path: '/metrics'

    static_configs:
      # "localhost" works because FastAPI + Prometheus run in the SAME ACI group
      # They share a network namespace, just like Kubernetes pods
      - targets: ['localhost:8000']